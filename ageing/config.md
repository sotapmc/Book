# 配置文件

在配置 Ageing 之前，首先要弄清楚，Ageing 能做些什么。大概有如下几点

- 统计用户的「年龄」数据和相应的「经验」值
- 跟随着用户的年龄变化执行指令
- ~~管理用户进行指定行为所需的最低年龄~~
- 管理指定指令执行所需的最低年龄
- ~~与其它的插件进行衔接，将年龄的评估交付给更多的插件~~
- ~~让用户使用道具选择自己的年龄~~
- ...

上述列表中被~~划去~~的内容属于还未实现但终会实现的内容。这些内容都会被添加到配置文件中供给设置，这样，你便可以设置出自己想要的效果。下面，我们会一一列举配置文件中存在的各个项，展示其格式并解释其作用。

### `age-commands`

```yml
age_commands:
    "年龄 1":
        - "所要执行的指令 1"
        - "所要执行的指令 2"
        - # ...
    "年龄 2":
        - #...
    # ...
```

规定**所有**玩家达到指定的年龄以后所要执行的指令。允许使用[占位符](#占位符)。例如，可以选择在玩家 20 岁时执行 `give %username% diamond_block 10` 作为奖励。所要执行的指令是没有限制的，因此你既可以执行对服务器全局都有影响的指令，也可以通过占位符执行针对性的指令。

### `max-age`

```yml
max_age: # 正整数
```

!> Ageing 目前尚未添加对配置文件中的配置项的值的可用性的检测，因此填入无效之后，可能出现或大或小的不可预料的非常情况。强烈建议你按照规定填写。

规定玩家所能成长到的最高年龄，必须为正整数，且最高不能超过 Java 的整数精度限制（$2^{31} - 1 = 2147483647$）。

### `limited-commands`

```yml
limited_commands:
  example1: 0
  example2: 0
```

对用户可用的指令进行限制。格式中，应以指令头作为键，以使用该指令所需达到的最低年龄作为值。例如 `help: 20` 代表须最少 20 岁才可执行 `help`，否则该指令将会被屏蔽并给出 `You are not old enough to ...` 警告。需要注意的是，若你规定了一个不存在指令的最低年龄，Ageing 仍然会对未达到年龄的人给予警告。例如 `wobushizhendezhiling: 10` 将会导致未满 10 岁用户执行 `/wobushizhendezhiling` 后收到警告（而不是提示这个指令不存在）。

### `command-lowest-limit`

```yml
command_lowest_limit: # 整数
```

规定能够使用指令的最低年龄。在这个年龄以下将无法使用指令*，即每条指令都会收到警告而不会执行。该配置的优先级高于 `limited-commands`，因此当 `limited-commands` 中出现比该值小的值时，只会按照 `command-lowest-limit` 进行判断。

<small>* 不绝对。请阅读下方的 <code>ignored-commands</code> 了解更多。</small>

### `ignored-commands`

```yml
ignored_commands:
    - "指令 1"
    - "指令 2"
    - # ...
```

规定不参与年龄限制的指令。处于该列表中的指令将对所有年龄的用户可用。该配置的优先级高于 `limited-commands` 和 `command-lowest-limit`。任何出现在该列表中的指令，都不会受到前两者的限制。

## 占位符

Ageing 支持使用的占位符包括

- `%username%` - 用户名
- `%uuid%` - 用户的 UUID

如果后期有需要会再添加。这些占位符当前只能在配置文件的特定位置使用。