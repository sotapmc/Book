# 任务逻辑

在本插件中，任务逻辑主要由 `require-acceptance` 和 `require-submittion` 两项控制。本文将围绕这两项分别为 `true` 或 `false` 的四种不同情况，对任务逻辑进行解释。为了讨论的方便，我们先从最常见的情形来考虑。

### require-acceptance = true

#### require-submittion = true

在这种情况下，玩家既需要手动接受任务，也需要手动提交任务，是最传统的任务模式。此种情况下，玩家可以通过 `/mt w`、`/mt d` 来打开每周、每日任务的菜单，点按来接受，然后打开 `/mt i` 来查看任务的完成情况以及提交任务。

#### require-submittion = false

在这种情况下，玩家需要手动接受任务，但不需要提交。玩家同样可以打开每周、每日任务的菜单，但不需要打开 `/mt i` 来提交，而是随着任务的完成，将会自动提交并获得奖励。

### require-acceptance = false

#### require-submittion = true

在这种情况下，玩家不需要接受，因此 `/mt w`、`/mt d` 两个菜单都会被禁用。玩家仅需打开 `/mt i` 来查看任务的完成情况和提交即可。`/mt i` 一般会显示所有的任务，包括每周和每日。这是因为插件会在每次刷新时会自动帮玩家接受所有任务，而这些被接受的任务就会显示在 `/mt i` 菜单中。

#### require-submittion = false（不推荐）

在这种情况下，玩家既不需要接受任务，也不需要提交任务。仅需照常生存，当符合某一个任务条件时，就会显示文字并给予奖励。

## 记录模式

玩家每接受一个任务，玩家数据文件中便会多出一条接受信息。每条接受信息记录了这个任务的接受时间、过期时间等必要信息，同时也记录着玩家的一举一动。玩家每破坏一个方块、拾起一个物品或者繁殖一对牲畜，都会被记录在这条消息内。

每个任务的接受消息是互相独立，互不影响的。

以需要手动接受的情况为例，假设玩家 $P$ 在接受任务 $M$ 后，破坏了 $a$ 个 $X$ 方块，繁殖了 $b$ 对 $Y$ 动物，拾取了 $c$ 个 $Z$ 物品。那么此时任务 $M$ 的接受信息中将会记录类似于 $X: a, Y: b, Z: c$ 的数据结构。

而当玩家 $P$ 又接受了任务 $N$ 时，此时 $N$ 的接受信息中没有数据。当 $P$ 又破坏了 $k$ 个 $X$ 方块后，$M$ 中的数据变为 $X: a+k, Y: b, Z: c$，$N$ 中的数据变为 $X: k$。因此我们说每个任务之间是独立的。